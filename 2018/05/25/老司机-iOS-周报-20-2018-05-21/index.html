<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  
  
    <meta name="description" content="Think in Different">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    老司机 iOS 周报 #20 | 2018-05-21 |
    
    寒流‘s Blog</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
  <script src="/js/pace.min.js"></script>
</head>

<body>
<main class="content">
  <section class="outer">
  <article id="post-老司机-iOS-周报-20-2018-05-21" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      老司机 iOS 周报 #20 | 2018-05-21
    </h1>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2018/05/25/老司机-iOS-周报-20-2018-05-21/" class="article-date">
  <time datetime="2018-05-25T01:21:48.000Z" itemprop="datePublished">2018-05-25</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/swiftOldDriver/">swiftOldDriver</a>
  </div>

      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <p><img src="https://user-gold-cdn.xitu.io/2018/4/16/162ccf8ac966f57a?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" alt=""></p>
<p>老司机 iOS 周报，只为你呈现有价值的信息。</p>
<p>你也可以为这个项目出一份力，如果发现有价值的信息、文章、工具等可以到 <a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FSwiftOldDriver%2FiOS-Weekly%2Fissues" target="_blank" rel="noopener">Issues</a> 里提给我们，我们会尽快处理。记得写上推荐的理由哦。有建议和意见也欢迎到 <a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FSwiftOldDriver%2FiOS-Weekly%2Fissues" target="_blank" rel="noopener">Issues</a> 提出。</p>
<a id="more"></a>
<p>##<strong>专栏</strong></p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fxiaozhuanlan.com%2Ftopic%2F6280793154" target="_blank" rel="noopener">再谈 iOS App Crash 防护</a><br>我们老司机 iOS 专栏内最新出炉的一篇文章。作者分析了几种可能的 Crash 防护方案，并结合自己实践网易 Baymax 防护方案中遇到的各种问题，给出了解决方法，也提出了自己对这套方案的一些思考。</p>
<p>##新闻</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fmongodb%2Fmongo-swift-driver" target="_blank" rel="noopener">MongoDB 官方提供对 Swift 原生支持</a><br>MongoDB是一个基于分布式文件存储的开源数据库系统。现在官方在 C 驱动(libmongoc)的基础上，用 Swift 进行封装，提供 Pure Swift 驱动。这或许表明 Server-side Swift 越来越成熟，期待不久的将来能看到大规模应用。</p>
<p>##文章</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fonevcat.com%2F2018%2F05%2Fmvc-wrong-use%2F" target="_blank" rel="noopener">关于 MVC 的一个常见的误用</a><br>如何避免把 Model View Controller 写成 Massive View Controller 已经是老生常谈的问题了。我们可以通过 MVVM , Reactive 模式或 Reducer 模式等进行优化改造。但比起模式和框架，更重要的是认识到解决的问题本质在于：我们要如何才能更清晰地管理“用户操作，模型变更，UI 反馈”这一数据流动的方式。本文则是通过一个简单的 To Do 列表来阐述如何清晰地管理数据流动。</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FCQQXD0TrlbaNWjoClIcDtw" target="_blank" rel="noopener">Flutter 原理简解</a><br>Flutter 可以说是近期最热门的一个开发框架了，上周已经推过一篇 Flutter UI 绘制流程的文章，本篇文章也 cover 了一部分绘制的流程，不过与之前 focus 在 layout 环节不同, 本篇文章的渲染部分主要讲解了 Flutter 是如何通过 Skia 框架将 layout 之后的元素提交给 GPU 进行绘制。 除此之外，文章还分析了 Flutter 引擎的组件架构以及一些安装配置教学。<br>简单来说有用的内容不少，不过结构有点乱，看起来略费劲。（逃。。</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fwww.hackingwithswift.com%2Farticles%2F94%2Fhow-to-refactor-your-app-to-add-unit-tests" target="_blank" rel="noopener">『如何使用现代的 App 工程与架构的技术来构建我们的 App』系列文章</a><br><a href="https://link.juejin.im/?target=https%3A%2F%2Fwww.hackingwithswift.com%2Farticles%2F94%2Fhow-to-refactor-your-app-to-add-unit-tests" target="_blank" rel="noopener">How to refactor your app to add unit tests</a><a href="https://link.juejin.im/?target=https%3A%2F%2Fwww.hackingwithswift.com%2Farticles%2F95%2Fhow-to-add-cocoapods-to-your-project" target="_blank" rel="noopener">How to add CocoaPods to your project</a><a href="https://link.juejin.im/?target=https%3A%2F%2Fwww.hackingwithswift.com%2Farticles%2F97%2Fhow-to-clean-up-your-code-formatting-with-swiftlint" target="_blank" rel="noopener">How to clean up your code formatting with SwiftLint</a><a href="https://link.juejin.im/?target=https%3A%2F%2Fwww.hackingwithswift.com%2Farticles%2F98%2Fhow-to-streamline-your-development-with-fastlane" target="_blank" rel="noopener">How to streamline your development with Fastlane</a><br>上述四篇是一个系列文章， 围绕一个核心问题来讲述：如何使用现代的 App 工程与架构的技术来构建我们的 App。不得不说作者写的是很良心的，整体文风对新手都很友好而且做到了循序渐进、抽丝剥茧的叙事逻辑，是不可多得的项目教程。<br>系列文章从一个普通的、设计缺乏考量的 demo 工程开始，首先为其添加了单元测试框架的支持，然后整合了 CocoaPods 来管理第三方的依赖，引入了 SwiftLint 来对代码进行静态检查，最终介绍了如何配置 Fastlane 来把传统打包提审流程中最繁琐的截屏步骤给自动化。基本涵盖了现在的 iOS App 项目的核心工程要素，尤其适合小公司的“多面手”型工程师阅读。</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Ffluffy.es%2Fxcode-playground-tips%2F" target="_blank" rel="noopener">Tips for using Xcode Playground</a><br>虽然 Xcode Playground 老爱崩溃，但 Playground 的确很适合测试一小段代码。文章介绍如何设置手动运行，来降低 Playground 的 CPU 使用率及崩溃率，以及如何为手动运行添加⌘R快捷键。另外 Playground 在最后一行代码执行完毕之后就会立即停止，并不会等待还没有执行的异步回调，可以设置停止方式为手动停止，或者代码来控制停止。</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fflight.school%2Farticles%2Frunning-xcode-playgrounds-on-travis-ci%2F" target="_blank" rel="noopener">Running Xcode Playgrounds on Travis CI</a><br>Playgrounds 是一个很好的展示代码的方式。Mattt 新写的 <a href="https://link.juejin.im/?target=https%3A%2F%2Fgumroad.com%2Fl%2Fcodable" target="_blank" rel="noopener">Guide to Codable</a> 就是基于 Playgrounds 去传递他的想法。而他为了解决及时发现自己的代码还是否适配最新的 Swift 版本和 SDK 版本，借助了 Travis CI 自动的去检查版本的适配。</p>
<p>###<a href="https://link.juejin.im/?target=http%3A%2F%2Fmichael-brown.net%2F2018%2Ftouch-id-and-face-id-on-ios%2F" target="_blank" rel="noopener">TouchID 和 FaceID 实战使用的一些经验</a><br>LocalAuthentication虽然只有LAContext一个 class，但并不代表清晰好用，其文档不够清晰甚至有错误。作者在实际 App 中使用过LocalAuthentication之后列出了文档的一些错误并给出了许多最佳实践。</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fu-HmmrSAgtER1N2pKxCm0A" target="_blank" rel="noopener">手机京东技术团队对iOS自动化埋点探索</a><br>客户端埋点是产品分析用户数据的重要途径，常见的埋点方式有以下三种：<br>代码埋点，最直接的手动埋点方式，由开发人员完成；可视化埋点，本文将会介绍的方式，可由埋点维护人员自行完成；无埋点，相当于全埋点，网易 <a href="https://link.juejin.im/?target=https%3A%2F%2Fneyoufan.github.io%2F2017%2F04%2F19%2Fios%2F%25E7%25BD%2591%25E6%2598%2593HubbleData%25E6%2597%25A0%25E5%259F%258B%25E7%2582%25B9SDK%25E5%259C%25A8iOS%25E7%25AB%25AF%25E7%259A%2584%25E8%25AE%25BE%25E8%25AE%25A1%25E4%25B8%258E%25E5%25AE%259E%25E7%258E%25B0%2F" target="_blank" rel="noopener">HubbleData</a> 中有使用到。<br>本文整体介绍可视化埋点的使用方式和技术细节，另外针对可视化埋点中遇到的问题，尝试给出解决方案和并提出了一些思考。</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fmedium.com%2F%40thibault.wittemberg%2Fversatile-namespace-in-swift-3e8bbd6b6250" target="_blank" rel="noopener">如何在实现类似于 rx 的命名空间</a><br>大家应该在 Kingfisher 和 RxSwift 这些库里见过kf和rx的命名空间，刚开始用的时候会觉得有点陌生，但习惯之后就会理解这是一种多么优雅的代码组织方式，这篇文章会一步一步教大家如何实现这样的命名空间。<br>如果觉得英文阅读比较困难的同学，也可以考虑一下看 Enjoy 的 iOS 工程师写的这篇博文 <a href="https://link.juejin.im/?target=https%3A%2F%2Fblog.nswebfrog.com%2F2017%2F03%2F23%2Fswift-namespace%2F" target="_blank" rel="noopener">Swift 命名空间形式扩展的实现</a>。</p>
<p>###<a href="https://link.juejin.im/?target=http%3A%2F%2Fsindrilin.com%2Fapm%2F2018%2F05%2F12%2Fobserve_crash_at_launch.html" target="_blank" rel="noopener">监控启动崩溃</a><br>一套监控启动闪退的方案，与以前通过检测 App 在某段时间后是否仍然存活的方式相比，这套方案的检测时机更加提前，通过 hookmsg_send函数实现，并且自己处理了 crash 后的日志上报功能。</p>
<p>##<strong>代码</strong></p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FHelloElephant%2FParade" target="_blank" rel="noopener">Parade</a><br>Parade 是一个简单易用的视差效果引擎，适用于基于 UIScrollView 任何视图。除了简单易用以外，Parade 的源码和示例代码质量都很高，是一个不错的 Swift 开源库。</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FBaddaboo%2FClassicKit" target="_blank" rel="noopener">ClassicKit</a><br>一套 Windows 95 风格的 UI 样式库。比较有意思的是它支持@IBDesignable，这样就可以在 Xib 或者 Storyboard 中直接查看效果。</p>
<p>##工具</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2F152percent.com%2Fblog%2Fscheduling-services" target="_blank" rel="noopener">Scheduling Services</a><br>一个微型 Swift 计划服务框架，基于 NSNotification 实现，用于计划未来（重复的）事件。使用 Codable 持久化任务内容，支持存储和恢复事件状态，API 简单、清晰。</p>
<p>###<a href="https://link.juejin.im/?target=https%3A%2F%2Fmartinmitrevski.com%2F2018%2F05%2F11%2Fcatching-smiles-with-googles-ml-kit-on-ios%2F" target="_blank" rel="noopener">Catching smiles with Google’s ML Kit on iOS</a><br>Google I/O 大会推出了谷歌的全新移动端机器学习框架 MLKit，可以实现在本地跑机器学习模型的能力，各方面都很像苹果已经推出的 CoreML 框架。这篇文章教大家如何使用 MLKit，包括设置 Firebase 服务，然后在 iOS 上进行代码开发，实现了一个对照片进行微笑检测的功能。</p>
<p>##关注我们<br>我们开通了公众号，每期发布时公众号会推送消息，欢迎关注。<br><img src="https://user-gold-cdn.xitu.io/2018/5/21/16380ebf37a984e9?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""><br>同时也支持了 RSS 订阅：<a href="https://github.com/SwiftOldDriver/iOS-Weekly/wiki.atom" target="_blank" rel="noopener">https://github.com/SwiftOldDriver/iOS-Weekly/wiki.atom</a> 。</p>
<p>##本期编辑<br><a href="https://link.juejin.im/?target=https%3A%2F%2Fweibo.com%2F1926303682%2Fprofile" target="_blank" rel="noopener">@没故事的卓同学</a>，<a href="https://link.juejin.im/?target=https%3A%2F%2Fkemchenj.github.io" target="_blank" rel="noopener">@四娘</a>，<a href="https://link.juejin.im/?target=https%3A%2F%2Fweibo.com%2Fu%2F1302422271" target="_blank" rel="noopener">@mmoaay</a>，<a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fiblacksun" target="_blank" rel="noopener">@享耳先森</a>，<a href="https://link.juejin.im/?target=https%3A%2F%2Fweibo.com%2Fdamonone" target="_blank" rel="noopener">@Damonwong</a>，<a href="https://link.juejin.im/?target=http%3A%2F%2Fweibo.com%2Fagvicking" target="_blank" rel="noopener">@折腾范儿_味精</a>，<a href="https://link.juejin.im/?target=https%3A%2F%2Fweibo.com%2F2949394297" target="_blank" rel="noopener">@张嘉夫</a>，<a href="https://link.juejin.im/?target=https%3A%2F%2Fweibo.com%2FAidenRao" target="_blank" rel="noopener">@AidenRao</a>，<a href="https://link.juejin.im/?target=https%3A%2F%2Fweibo.com%2Fparsifalchang" target="_blank" rel="noopener">@Parsifal</a>，<a href="https://link.juejin.im/?target=https%3A%2F%2Fweibo.com%2Faaaron7" target="_blank" rel="noopener">@aaaron7</a>，<a href="https://link.juejin.im/?target=https%3A%2F%2Fweibo.com%2F100mango" target="_blank" rel="noopener">@方秋枋</a></p>
<p>作者：老司机iOS周报<br>链接：<a href="https://juejin.im/post/5b0248b5518825429c598309" target="_blank" rel="noopener">https://juejin.im/post/5b0248b5518825429c598309</a><br>来源：掘金<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hl1987.com/2018/05/25/老司机-iOS-周报-20-2018-05-21/" data-id="cjw81wo50008fmyf0rd9nvj1o"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

    </footer>

  </div>

  
    
  <nav class="article-nav">
    
      <a href="/2018/06/08/Runtime的运用和减少应用崩溃/" class="article-nav-link">
        <strong class="article-nav-caption">Newer posts</strong>
        <div class="article-nav-title">
          
            Runtime的运用和减少应用崩溃
          
        </div>
      </a>
    
    
      <a href="/2018/05/17/HTTP和HTTPS详解/" class="article-nav-link">
        <strong class="article-nav-caption">Olde posts</strong>
        <div class="article-nav-title">HTTP和HTTPS详解</div>
      </a>
    
  </nav>


  

  
    
  <div class="gitalk" id="gitalk-container"></div>
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
  <script type="text/javascript">
    var gitalk = new Gitalk({
      clientID: '',
      clientSecret: '',
      repo: '',
      owner: 'hanangellove',
      admin: [''],
      // id: location.pathname,      // Ensure uniqueness and length less than 50
      id: md5(location.pathname),
      distractionFreeMode: false,  // Facebook-like distraction free mode
      pagerDirection: 'last'
    })

  gitalk.render('gitalk-container')
  </script>

  

</article>



</section>
  <footer class="footer">
  
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>&copy; 2019 寒流‘s Blog</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li>
    </ul>
  </div>
</footer>

</main>
<aside class="sidebar">
  <button class="navbar-toggle"></button>

<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/hexo.svg" alt="寒流‘s Blog"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">首页</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/categories/app">我的产品</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/categories/arch">架构</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/categories/principle">原理</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/categories/performance">性能</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/categories/iOSInterview">面试集</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/link">博客</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/categories">全部分类</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">关于</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="Suche">
        <i class="fe fe-search"></i>
        Search
      </a>
    </li>
  </ul>
</nav>

<nav class="navbar navbar-bottom">
  <ul class="nav">
      <li class="nav-item">
          <div class="totop" id="totop">
    <i class="fe fe-rocket"></i>
</div>
      </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>

<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
</aside>
<script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>


  <script src="/fancybox/jquery.fancybox.min.js"></script>



  <script src="/js/search.js"></script>


<script src="/js/ocean.js"></script>

</body>
</html>